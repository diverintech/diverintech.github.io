<h2 class="timeline-title">{{ 'work' | translate }}</h2>
<div class="timeline">
  <div
    *ngFor="let job of jobs; index as i"
    class="timeline-point"
    (click)="selectJob(i)"
    (keyup.enter)="selectJob(i)"
    tabindex="0"
  >
    <div class="job-info">
      <span>{{ job.company }}</span>
      <br />
      <span>
        {{ job.roles | dateRange }}
      </span>
    </div>
    <div class="point" [class.active]="selectedJobIndex === i"></div>
  </div>
</div>

<div class="job-details-main" *ngIf="selectedJobIndex !== null">
  <div *ngFor="let role of jobs[selectedJobIndex].roles; let j = index">
    <div class="job-details-container">
      <div class="job-logo">
        <a [href]="jobs[selectedJobIndex].website" target="_blank">
          <img
            [src]="jobs[selectedJobIndex].logo"
            alt="{{ jobs[selectedJobIndex].company }} Logo"
            class="logo"
          />
        </a>
      </div>
      <div class="job-details">
        <div class="job-content">
          <div class="column-1">
            <strong class="job-company">{{
              jobs[selectedJobIndex].company
            }}</strong>
            <div class="job-role">{{ role.title }}</div>
            <div class="job-stack">{{ role.technologies.join(', ') }}</div>
            <div class="job-description">{{ role.description }}</div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
